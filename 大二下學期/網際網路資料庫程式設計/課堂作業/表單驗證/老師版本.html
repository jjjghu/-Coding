<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S1154041</title>
    <link href="post_style.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.min.js"></script>
    <script src="http://jqueryvalidation.org/files/dist/additional-methods.min.js"></script>
    <style>
        .error {
            color: red;
            display: inline;
        }
    </style>
    <script>
        $(document).ready(function ($) {

            $("#form").validate({

                rules:
                {
                    "target[]":
                    {
                        // 至少要選一項
                        require_from_group: [1, ".c_content input[type==checkbox]"]
                    },
                    "type":
                    {
                        // .c_content當中 type = name 的項目
                        require: true
                    },
                    "title":
                    {
                        require: true
                    },
                    "url":
                    {
                        require: true,
                        url: true
                    },
                    "content":
                    {
                        require: true
                    }
                },
                messages:
                {
                    "target[]": {
                        required: "請至少選擇1項"
                    },
                    "type": {
                        required: "必填"
                    },
                    "title": {
                        required: "必填"
                    },
                    "url": {
                        required: "必填", url: "請輸入正確的網址"
                    },
                    "content": {
                        required: "必填"
                    }
                },
                errorPlacement: function (error, element) {
                    if (element.attr("name") == "target[]")
                        error.insertAfter("#targetErr");
                    if (element.attr("name") == "type")
                        error.insertAfter("#typeErr");
                    if (element.attr("name") == "title")
                        error.insertAfter("#titleErr");
                    if (element.attr("name") == "url")
                        error.insertAfter("#urlErr");
                    if (element.attr("name") == "content")
                        error.insertAfter($("#contentErr"));
                }
            })
        })
    </script>
</head>

<body>
    <div style="width: 700px; margin: auto;">
        <form id="form">

            <table width="700px">
                <tr>
                    <td class="c_title">公告對象：</td>
                    <td class="c_content">
                        <input type="checkbox" name="target[]" value="1"><label for="member">教職員</label>
                        <input type="checkbox" name="target[]" value="2"><label for="student">學生</label>
                        <input type="checkbox" name="target[]" value="3"><label for="homepage">學校首頁</label>
                        <span class="error" id="targetErr"></span>
                    </td>
                </tr>
                <tr>
                    <td class="c_title">公告類型：</td>
                    <td class="c_content">
                        <input type="radio" name="type">演講
                        <input type="radio" name="type">研討會
                        <input type="radio" name="type">徵才
                        <input type="radio" name="type">招生、進修教育訓練
                        <input type="radio" name="type">其他
                        <span class="error" id="typeErr"></span>
                    </td>
                </tr>
                <tr>
                    <td class="c_title">主旨：</td>
                    <td class="c_content">
                        <input type="text" size="50" id="title" name="title">
                        <span class="error" id="titleErr"></span>
                    </td>
                </tr>
                <tr>
                    <td class="c_title">公告截止日期：</td>
                    <td class="c_content">
                        <select name="s[]">
                            <option value="101">101</option>
                        </select>
                        年
                        <select name="s[]">
                            <option value="4">04</option>
                        </select>
                        月
                        <select name="s[]">
                            <option value="1">1</option>
                        </select>
                        日
                    </td>
                </tr>
                <tr>
                    <td class="c_title">連結網址：</td>
                    <td class="c_content">
                        <input type="url" size="50" id="url" name="url">
                        <span class="error" id="urlErr"></span>
                    </td>
                </tr>
                <tr>
                    <td class="c_title">公告內容：</td>
                    <td class="c_content">
                        <textarea name="content" id="content" cols="50" rows="10"
                            style="overflow-y: scroll;"></textarea>
                        <span class="error" id="contentErr"></span>
                    </td>
                </tr>
            </table>
            <div style="text-align: center;" width="700px">
                <input class="c_button" type="submit" value="確定送出" id="submitBtn">
                <input class="c_button" type="button" value="重新填寫">
            </div>
        </form>
    </div>
</body>

</html>